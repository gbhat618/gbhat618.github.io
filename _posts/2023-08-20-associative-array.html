---
layout: post
status: publish
published: true
title: Associative Array
author:
  display_name: gbhat.site
  login: gbhat.site
  email: bpg168g@gmail.com
  url: http://gbhat.site
author_login: gbhat.site
author_email: bpg168g@gmail.com
author_url: http://gbhat.site
wordpress_id: 23
wordpress_url: https://gbhat.site/?p=23
date: '2023-08-20 13:29:28 +0530'
date_gmt: '2023-08-20 12:29:28 +0530'
categories:
- Blog
tags: []
comments: []
---
<p><!-- wp:image {"id":54,"aspectRatio":"16/9","scale":"cover","sizeSlug":"large","linkDestination":"none","className":"is-style-default"} --></p>
<figure class="wp-block-image size-large is-style-default"><img src="http://gbhat.site/wp-content/uploads/2023/08/pexels-quang-nguyen-vinh-6129795-1024x683.jpg" alt="" class="wp-image-54" style="aspect-ratio:16/9;object-fit:cover"/><br />
<figcaption class="wp-element-caption">Image by <a href="https://www.pexels.com/photo/various-footwear-for-selling-placed-on-stone-on-street-6129795/" data-type="link" data-id="https://www.pexels.com/photo/various-footwear-for-selling-placed-on-stone-on-street-6129795/">Quang Nguyen Vinh via pexels.com</a></figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Recently I came across the term Associative Array. For whatever reason, I had never heard of this term before, also, I can't remember hearing this from my bachelor's course as well. I asked a few of my friends, some of them had not heard about it as well...</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>I wanted to learn about what and how this term is defined and its usage wrt programming languages. These notes are a compilation of my readings online&hellip;</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>After a quick Google search, we would see that Hash Table is one of the concrete implementations of Associative array ADT. However, there are several interesting references about it online.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:separator --></p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator --></p>
<p><!-- wp:paragraph --></p>
<p>The <a href="https://en.wikipedia.org/wiki/Associative_array" data-type="link" data-id="https://en.wikipedia.org/wiki/Associative_array">Wikipedia article</a> is quite amazing and a few important points are,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul><!-- wp:list-item --></p>
<li>Major implementations are <a href="https://en.wikipedia.org/wiki/Hash_table" data-type="link" data-id="https://en.wikipedia.org/wiki/Hash_table">hash tables</a> and <a href="https://en.wikipedia.org/wiki/Search_tree" data-type="link" data-id="https://en.wikipedia.org/wiki/Search_tree">search trees</a>.</li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li>There is also hardware-level support for associative arrays called <a href="https://en.wikipedia.org/wiki/Content-addressable_memory" data-type="link" data-id="https://en.wikipedia.org/wiki/Content-addressable_memory">Content-addressable Memory</a>.</li>
<p><!-- /wp:list-item --></ul>
<p><!-- /wp:list --></p>
<p><!-- wp:heading --></p>
<h2 class="wp-block-heading">Definition</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>An&nbsp;<strong>associative array</strong>,&nbsp;<strong>map</strong>,&nbsp;<strong>symbol table</strong>, or&nbsp;<strong>dictionary</strong>&nbsp;is an&nbsp;<a href="https://en.wikipedia.org/wiki/Abstract_data_type">abstract data type</a>&nbsp;that stores a&nbsp;<a href="https://en.wikipedia.org/wiki/Collection_(abstract_data_type)">collection</a>&nbsp;of&nbsp;<a href="https://en.wikipedia.org/wiki/Attribute%E2%80%93value_pair">(key, value) pairs</a>, such that each possible key appears at most once in the collection.</p>
<p><!-- /wp:paragraph --><cite><a href="https://en.wikipedia.org/wiki/Associative_array#:~:text=In%20computer%20science%2C%20an%20associative,most%20once%20in%20the%20collection.">wiki</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:heading --></p>
<h2 class="wp-block-heading">Operations</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:list --></p>
<ul><!-- wp:list-item --></p>
<li><strong>Insert</strong>&nbsp;or&nbsp;<strong>put</strong>: add a new <code>(key, value)</code>&nbsp;pair to the collection, mapping the key to its new value. Any existing mapping is overwritten. <em>The arguments to this operation are the key and the value.</em></li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li><strong>Remove</strong>&nbsp;or&nbsp;<strong>delete</strong>: remove a&nbsp;<code>(key, value)</code>&nbsp;pair from the collection, unmapping a given key from its value. <em>The argument to this operation is the key.</em></li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li><strong>Lookup</strong>,&nbsp;<strong>find</strong>, or&nbsp;<strong>get</strong>: find the value (if any) that is bound to a given key. <em>The argument to this operation is the key, and the value is returned from the operation.</em> If no value is found, some lookup functions raise an&nbsp;exception, while others return a default value (zero, null, specific value passed to the constructor, ...)</li>
<p><!-- /wp:list-item --></ul>
<p><!-- /wp:list --><cite><a href="https://en.wikipedia.org/wiki/Associative_array#Operations">wiki</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>More generalization seems to support,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul><!-- wp:list-item --></p>
<li>iteration: loop over mappings. In here order is left to the implementation.</li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li>multimap: multiple values to be associated with a single key, or duplication of key-value pair allowed</li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li>bidirectional map: lookup is possible with both key and reverse lookup with value.</li>
<p><!-- /wp:list-item --></ul>
<p><!-- /wp:list --></p>
<p><!-- wp:separator --></p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator --></p>
<p><!-- wp:heading --></p>
<h2 class="wp-block-heading">Other references</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>As I tried to check the term's references in online forums such as Stack Overflow, Quora, and Geeksforgeeks. I actually got confused about, whether an associative array is indexed both on an integer and a key (?) and whether is it supposed to be iterable in the insertion order.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Both of these properties are not required to be present as per the ADT definition. These properties can be part of specialized containers like Ordered-Map or Ordered-Dictionary.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Mainly I got confused because, in some online threads, the question wasn't phrased correctly, and in some other threads the OP wasn't being explicit about what they are trying to achieve. And there are some incorrect explanations too.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Let's note them down simply to save confusion in the future.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><strong>This C++ thread seemed spot on</strong>,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>Arrays are generally indexed by the position of the elements. A simple array -&nbsp;<code>int x[10]</code>, has its elements&nbsp;<code>x[0] ... x[9]</code>. The index is an unsigned integral value.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The associative container means that the index can be, well, an arbitrary (not necessarily an unsigned integral) type (in this case, an&nbsp;<code>std::string</code>).</p>
<p><!-- /wp:paragraph --><cite><a href="https://stackoverflow.com/questions/15249743/what-is-the-meaning-of-associative-array">What is the meaning of associative array?</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>Some Stack overflow threads seem to be mentioned as if it is a multi-key map (?)</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul><!-- wp:list-item --></p>
<li><a href="https://stackoverflow.com/questions/5122913/java-associative-array">Java associative-array</a></li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li><a href="https://stackoverflow.com/questions/73392878/access-data-in-python3-associative-arrays">Access data in python3 associative arrays</a></li>
<p><!-- /wp:list-item --></ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>The first one in the above confused me. I started thinking should the ADT also require supporting both integer and key while indexing? No, in the SO discussion, they are using a PHP array feature, and asking how the same can be achieved in Java. I have written a separate section about it later as "PHP Arrays". This was fun to check.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>While others seem to be simply referring to populating the map or iterating over both (key-value) pair or simply values.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul><!-- wp:list-item --></p>
<li><a href="https://stackoverflow.com/questions/7286111/how-to-convert-an-associative-array-in-python">How to convert an associative array in python?</a></li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li><a href="https://stackoverflow.com/questions/3994345/python-create-associative-array-in-a-loop">Python: Create associative array in a loop</a></li>
<p><!-- /wp:list-item --></ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>There are other places that I looked at as well, such as this GeeksforGeeks and Quora.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The GeekforGeeks article (<a href="https://www.geeksforgeeks.org/implementing-associate-array-in-java/" data-type="link" data-id="https://www.geeksforgeeks.org/implementing-associate-array-in-java/">Implementing Associate Array in Java</a>) doesn't seem to make much sense. As it seems to be highlighting the iterator part of the entry set. There can be some bad information out there too (maybe I need to pursue correction).</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>To this Quora question,  <a href="https://www.quora.com/Are-associative-array-and-hash-table-basically-the-same-things" data-type="link" data-id="https://www.quora.com/Are-associative-array-and-hash-table-basically-the-same-things">Are associative array and hash table basically the same things?</a>, most of the answers are <strong>correctly written, such as this one, very concise, and to the point</strong>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>The term "hash table" is talking about the&nbsp;<em>implementation</em>: a specific way to organize your data in memory.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The term "associative array" is talking about the&nbsp;<em>interface</em>: the concept that you use objects as array indices. (This is sometimes called an&nbsp;<em>abstract data structure.</em>)</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>There are multiple ways to implement an associative array. A hash table is one of them -- in fact, it is by far the most common one.</p>
<p><!-- /wp:paragraph --><cite><a href="https://qr.ae/pyqMq6">Michal Fori&scaron;ek's ans</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>However, <strong>some answers are quite confusing</strong> <strong>and only partially correct</strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>You can implement an associative array using a hash table, but they are not the same, and neither are a subset of the other.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>There are associative arrays which are not hash tables. E.g. std::map in C++ is an associative array implemented using a search tree.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>There are hash tables that are not associative arrays. std::hash_set in C++ is a hash table, but not an associative array. Bloom filters use hash tables in a non-trivial way, so the hash tables there are not associative arrays.</p>
<p><!-- /wp:paragraph --><cite><a href="https://qr.ae/pyq2sF" target="_blank" rel="noreferrer noopener">Andrii Melnykov's ans</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>This one confused me quite a bit, so I will dig into this answer further. Let's just segregate correct and incorrect parts here,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><strong>Correct parts</strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>You can implement an associative array using a hash table</p>
<p><!-- /wp:paragraph --><cite>There are associative arrays which are not hash tables. E.g. std::map in C++ is an associative array implemented using a search tree.</cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>This is correct. The Associative Array is an ADT whereas a hash table is a concrete implementation. Also, the C++ std::map is an ordered map implemented using Red-Black Tree. We can note one thing here, C++ has another map data structure called std::unordered_map which is implemented using the hash table.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><strong>Incorrect parts</strong></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>but they are not the same, and neither are a subset of the other.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>There are hash tables that are not associative arrays. std::hash_set in C++ is a hash table, but not an associative array. Bloom filters use hash tables in a non-trivial way, so the hash tables there are not associative arrays.</p>
<p><!-- /wp:paragraph --></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>This is actually incorrect. Hash tables are a concrete implementation of the operations described in the ADT Associative array. Hash tables happen to give the most optimal amortized run time of O(1) for all three operations of the Associative array; put, delete, and get, compared to other implementations using Search trees.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The other two things mentioned here, don't make any sense; <code>std:hash_set</code> in C++ and Bloom filters, use hash_table, but not an associative array -> <strong>why does the set and bloom filter need to be even brought into discussion here?</strong> In fact, bloom filters don't even use hash tables (Note: hash_table stores the key, bloom filters don't even store the key).</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:separator --></p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator --></p>
<p><!-- wp:heading --></p>
<h2 class="wp-block-heading">PHP Arrays</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>Particularly the way the value was assigned to nested keys in this <a href="https://stackoverflow.com/questions/5122913/java-associative-array" data-type="link" data-id="https://stackoverflow.com/questions/5122913/java-associative-array">SO question</a> was interesting (<code>$arr[0]['name'] = 'demo';</code>). There are two put operations in here. On the left side of the assignment operator, the put operation happened implicitly for the nested keys, and then on the right side, the put operation is happening explicitly in the presence of the assignment operator. This is different compared to languages like Java or Python.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Then I tried to check about how the PHP arrays are, it's actually mind-blown for me,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:quote --></p>
<blockquote class="wp-block-quote"><p><!-- wp:paragraph --></p>
<p>An&nbsp;array&nbsp;in PHP is actually an ordered map. A map is a type that associates&nbsp;<em>values</em>&nbsp;to&nbsp;<em>keys</em>. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As&nbsp;array&nbsp;values can be other&nbsp;arrays, trees and multidimensional&nbsp;arrays are also possible.</p>
<p><!-- /wp:paragraph --><cite><a href="https://www.php.net/manual/en/language.types.array.php">php manual</a></cite></p></blockquote>
<p><!-- /wp:quote --></p>
<p><!-- wp:paragraph --></p>
<p>Back to the associative arrays, I tried the same SO example to inspect how the variable is,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>php > $arr = array();
php > 
php > $arr&#91;0]&#91;'name'] = 'demo';
php > $arr&#91;0]&#91;'fname'] = 'fdemo';
php > $arr&#91;1]&#91;'name'] = 'test';
php > $arr&#91;1]&#91;'fname'] = 'fname';
php > 
php > var_dump($arr);
array(2) {
  &#91;0]=>
  array(2) {
    &#91;"name"]=>
    string(4) "demo"
    &#91;"fname"]=>
    string(5) "fdemo"
  }
  &#91;1]=>
  array(2) {
    &#91;"name"]=>
    string(4) "test"
    &#91;"fname"]=>
    string(5) "fname"
  }
}</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>Let's see if it is flexible by putting more than two keys for the implicit put operation that PHP seems to be doing,</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>php > $arr2 = array();
php > $arr2&#91;'k0']&#91;'k00']&#91;'k000']&#91;'k0000'] = 'v0';
php > var_dump($arr2);
array(1) {
  &#91;"k0"]=>
  array(1) {
    &#91;"k00"]=>
    array(1) {
      &#91;"k000"]=>
      array(1) {
        &#91;"k0000"]=>
        string(2) "v0"
      }
    }
  }
}
php > # we can also access keys at different level
php > var_dump($arr2&#91;'k0']&#91;'k00']);
array(1) {
  &#91;"k000"]=>
  array(1) {
    &#91;"k0000"]=>
    string(2) "v0"
  }
}
</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>Interesting!!</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:separator --></p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<!-- /wp:separator --></p>
<p><!-- wp:heading --></p>
<h2 class="wp-block-heading">Key Takeaways</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:list {"ordered":true} --></p>
<ol><!-- wp:list-item --></p>
<li>Associative Array is an ADT(abstract data type), while a hash table is a concrete implementation of this ADT. This ADT's implementations in programming languages are typically called Map (or Hash Map) and Dictionary. In C++, and Java it is called Map *, and in Python as Dictionary. This ADT can also be implemented using Trees (for ordered maps).</li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li>PHP Array is quite strange as it is a hash table, and alone covers implements for array, list, stack queue, map, etc. PHP probably incurs a lot of performance penalties in doing so. Something to read about in the future...</li>
<p><!-- /wp:list-item --></p>
<p><!-- wp:list-item --></p>
<li>PHP associative array usage where assigning a value to a nested key, seems like magic happens on the left side of the assignment operator.</li>
<p><!-- /wp:list-item --></ol>
<p><!-- /wp:list --></p>
